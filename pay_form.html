<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>支付表单</title>
</head>

<body>
    <form action="https://cashier.sandpay.com.cn/gw/web/order/create" method="post" style="display: none;">
        charset
        <p><input type="text" name="charset" value="" id="charset" /></p>signType
        <p><input type="text" name="signType" value="" id="signType" /></p>data
        <p><input type="text" name="data" id="data" value="" /></p>sign
        <p><input type="text" name="sign" id="sign" value="" /></p>
        <input type="submit" value="提交" id="btn" />
    </form>
    <script type="text/javascript">
        window.onload = function() {
            var location = window.location;
            var search = location.href.split('?')[1];
            if (search) {
                var paramsArr = search.split('&');
                var charset = document.getElementById('charset');
                var data = document.getElementById('data');
                var signType = document.getElementById('signType');
                var sign = document.getElementById('sign');
                var btn = document.getElementById('btn');
                for (var i = 0; i < paramsArr.length; i++) {
                    if (paramsArr[i].indexOf('charset=') !== -1) {
                        charset.value = paramsArr[i].replace(/charset=/, '');
                    }
                    if (paramsArr[i].indexOf('data=') !== -1) {
                        console.log(paramsArr[i].replace(/data=/, ''));
                        data.value = decodeURIComponent(paramsArr[i].replace(/data=/, ''));
                    }
                    if (paramsArr[i].indexOf('signType=') !== -1) {
                        signType.value = paramsArr[i].replace(/signType=/, '');
                    }
                    if (paramsArr[i].indexOf('sign=') !== -1) {
                        sign.value = paramsArr[i].replace(/sign=/, '');
                    }
                }
                console.log(btn);
                btn.click();
            }


            // var a = 'utf-8';
            // var b = '01';
            // var c = "{\"head\":{\"version\":\"1.0\",\"method\":\"sandpay.trade.orderCreate\",\"productId\":\"00002000\",\"accessType\":\"1\",\"mid\":\"6888805038199\",\"plMid\":\"\",\"channelType\":\"07\",\"reqTime\":\"20210730115637\"},\"body\":{\"orderCode\":\"202107301142284730\",\"totalAmount\":\"000000008800\",\"payerName\":\"efef\",\"subject\":\"\\u666e\\u901a\\u8ba2\\u5355\",\"body\":\"\\u6d4b\\u8bd5\",\"notifyUrl\":\"shop.hlnsqz.cn\\/api\\/Payment\\/sandenotify\",\"frontUrl\":\"shop.hlnsqz.cn\\/api\\/Payment\\/sandenotify\"}}"
            // var d = "maPmHIo7Uj9GirJBa3kD31R+A7vHJPh9OttbU6JZKW9EOl99ByqfSOBQqmE6yux6nyzdHyEAEuQe0wxCgJtONsSE8d23l1bt4b3/AUB273PN1BIB15H4R4KcJAf/c51iSjYWzyvDof3JnYn4OfJjqz4wS4p3608clDdvjPVALzU28wGZEhGSY95W4mjBiqk0fjC3Gv2pkeTxd8pjdIrdPiDqBCWGt+xf9pvWJA7z4YRT5cH/GPFt0a8X2vQgBtgQy+2wUONSTLU7wruA6uyq99k72ji80SuEVN2+2uwJDFv4TUf+qFk1PoDjZEgMW8vo/ZHaJxgKlNXLCsU40ghIIQ=="
            // var url = "file:///C:/Users/zc/Desktop/pay_form.html?charset=" + a + '&signType=' + b +'&data=' + c+ '&sign=' +d;
            // console.log(url);
        }
    </script>
</body>

</html>